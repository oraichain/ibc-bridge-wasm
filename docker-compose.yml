version: '3.3'
services:
  earth:
    image: alpine:3.12
    tty: true
    env_file:
      - .env
    environment:
      - DENOM=earth
      - CHAIN_ID=Earth
    working_dir: /workspace
    command: /workspace/scripts/setup_genesis.sh
    ports:
      - 26657:26657
    volumes:
      - ./.earth:/workspace/.earth
      - ./scripts:/workspace/scripts
      - ./build:/usr/local/bin
      - ./ibc-proxy:/workspace/ibc

  mars:
    image: alpine:3.12
    tty: true
    env_file:
      - .env
    environment:
      - DENOM=mars
      - CHAIN_ID=Mars
    working_dir: /workspace
    ports:
      - 36657:26657
    command: /workspace/scripts/setup_genesis.sh
    volumes:
      - ./.mars:/workspace/.mars
      - ./scripts:/workspace/scripts
      - ./build:/usr/local/bin
      - ./ibc-proxy:/workspace/ibc

  hermes:
    image: informalsystems/hermes:1.2.0
    working_dir: /workspace
    tty: true
    entrypoint: tail -f /dev/null
    volumes:
      - ./ibc-proxy:/workspace
